extends ../layout/layout.pug

block content
  main.main-page
    h1.visually-hidden –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ª–∏—á–Ω–æ–≥–æ –±–ª–æ–≥–∞ –¢–∏–ø–æ—Ç–µ–∫–∞
    p
      | –≠—Ç–æ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç, –∫–æ—Ç–æ—Ä—ã–π –≤–ª–∞–¥–µ–ª–µ—Ü –±–ª–æ–≥–∞ –º–æ–∂–µ—Ç –≤—ã–±—Ä–∞—Ç—å, —á—Ç–æ–±—ã –æ–ø–∏—Å–∞—Ç—å —Å–µ–±—è üëè
    if categories.length
      section.main-page__theme-list
        h2.visually-hidden –°–ø–∏—Å–æ–∫ —Ç–µ–º
        ul.themes
          each category in categories
            li.themes__item
              a.themes__item-link(href="#")= category.name
                sup= ` ${category.count}`
    if articles.length
      div(class=`main-page__section-flex ${hotArticles.length ? `` : `main-page__section-flex--short`}`)
        section.main-page__hot.hot
          if hotArticles.length
            h2.hot__name
              | –°–∞–º–æ–µ –æ–±—Å—É–∂–¥–∞–µ–º–æ–µ
              span.hot__icon.hot__icon--fire
            ul.hot__list
              each hotArticle in hotArticles
                li.hot__list-item
                  a.hot__list-link(href="#")= truncate(hotArticle.announce, 100, true)
                    sup.hot__link-sup= hotArticle.commentscount
          else
            h2.hot__name.hot__name--empty
              | –°–∞–º–æ–µ –æ–±—Å—É–∂–¥–∞–µ–º–æ–µ
              span.hot__icon.hot__icon--fire
            p.hot__empty –ó–¥–µ—Å—å –ø–æ–∫–∞ –Ω–∏—á–µ–≥–æ –Ω–µ—Ç...
        section.main-page__last.last
          if comments
            h2.last__name
              | –ü–æ—Å–ª–µ–¥–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
              span.last__icon.last__icon--cloud
            ul.last__list
              li.last__list-item
                img.last__list-image(src="img/avatar-small-1.png" width="20" height="20" alt="–ê–≤–∞—Ç–∞—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è")
                b.last__list-name –ê–Ω–Ω–∞ –ê—Ä—Ç–∞–º–æ–Ω–æ–≤–∞
                a.last__list-link(href="#")
                  | –°–µ—Ä–≤–∏—Å –∞—Ä–µ–Ω–¥—ã –∂–∏–ª—å—è Airbnb —Å—Ç–∞–ª –≥–ª–æ–±–∞–ª—å–Ω—ã–º –ø–∞—Ä—Ç–Ω–µ—Ä–æ–º –ú–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–æ–≥–æ
                  | –æ–ª–∏–º–ø–∏–π—Å–∫–æ–≥–æ –∫–æ–º–∏—Ç–µ—Ç–∞
                  | (–ú–û–ö) –Ω–∞ –¥–µ–≤—è—Ç—å –ª–µ—Ç, –≤ —Ç–µ—á–µ–Ω–∏–µ –∫–æ—Ç–æ—Ä—ã—Ö –ø—Ä–æ–π–¥–µ—Ç –ø—è—Ç—å –û–ª–∏–º–ø–∏–∞–¥, –≤ —Ç–æ–º —á–∏—Å–ª–µ –≤ –¢–æ–∫–∏–æ –≤ 2020 –≥–æ–¥—É.
              li.last__list-item
                img.last__list-image(src="img/avatar-small-2.png" width="20" height="20" alt="–ê–≤–∞—Ç–∞—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è")
                b.last__list-name –ê–ª–µ–∫—Å–∞–Ω–¥—Ä –ü–µ—Ç—Ä–æ–≤
                a.last__list-link(href="#")
                  | –ì–ª–∞–≤—Ä–µ–¥—ã ¬´–î–æ–∂–¥—è¬ª, Forbes –∏ –¥—Ä—É–≥–∏—Ö –°–ú–ò –ø–æ–ø—Ä–æ—Å–∏–ª–∏ –†–æ—Å–∫–æ–º–Ω–∞–¥–∑–æ—Ä
                  | —Ä–∞–∑—ä—è—Å–Ω–∏—Ç—å —à—Ç—Ä–∞—Ñ—ã –∑–∞ —Å—Å—ã–ª–∫–∏ –Ω–∞
                  | —Å–∞–π—Ç—ã —Å –º–∞—Ç–æ–º
              li.last__list-item.last__list-item--end
                img.last__list-image(src="img/avatar-small-3.png" width="20" height="20" alt="–ê–≤–∞—Ç–∞—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è")
                b.last__list-name –ò–≥–æ—Ä—å –®–º–∞–Ω—Å–∫–∏–π
                a.last__list-link(href="#")
                  | –ß—Ç–æ-—Ç–æ –≤—Å–µ —ç–ª–µ–∫—Ç—Ä–æ–∫–∞—Ä—ã –≤ –ø–æ—Å–ª–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –≤—Å–µ –Ω–∞ –æ–¥–Ω–æ –ª–∏—Ü–æ
                  | –¥–µ–ª–∞—é—Ç—Å—è))
          else
            h2.last__name
              | –ü–æ—Å–ª–µ–¥–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
              span.last__icon.last__icon--cloud
            p.last__empty –ó–¥–µ—Å—å –ø–æ–∫–∞ –Ω–∏—á–µ–≥–æ –Ω–µ—Ç...
      section.main-page__list.preview
        h2.visually-hidden –°–ø–∏—Å–æ–∫ –ø—Ä–µ–≤—å—é —Å—Ç–∞—Ç–µ–π
        ul.preview__list
          each article in articles
            li(class=`preview__item ${article.picture ? `` : `preview__item--noimage`}`)
              ul(class=`preview__breadcrumbs` style=`flex-wrap: wrap;`)
                each category in article.categories
                  li.preview__breadcrumbs-item
                    a.preview__breadcrumbs-link(href="#")= category.name
              if article.picture
                .preview__background
                  img.preview__background-image(src=`/img/${article.picture}@1x.jpg` width="460" height="240" srcset=`/img/${article.picture}@1x.jpg 1x, /img/${article.picture}@2x.jpg 2x` alt=`${article.title}`)
              time.preview__time(datetime=`${article.createdDate}`)= new Date(article.createdDate).toLocaleDateString('ru')
              h3.preview__name
                a.preview__name-link(href="#")= article.title
              p.preview__text= article.announce
              a.preview__comment(href="#")
                | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
                span.preview__cloud
                b.preview__comment-count= article.comments.length
      .preview__toggle-wrapper
        ul.preview__pagination.pagination
          li
            a.pagination__button.button.button--backwards.button--disabled(href="#" aria-label="–°—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–∞–∑–∞–¥") –ù–∞–∑–∞–¥
          li.pagination__item.pagination__item--active
            a(href="#") 1
          li.pagination__item
            a(href="#") 2
          li.pagination__item
            a(href="#") 3
          li.pagination__item
            a(href="#") 4
          li.pagination__item
            a(href="#") 5
          li
            a.pagination__button.button.button--forward(href="#" aria-label="–°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤–ø–µ—Ä–µ–¥") –í–ø–µ—Ä–µ–¥
    else
      .main-page__empty-wrapper
        p.main-page__empty-text –ó–¥–µ—Å—å –ø–æ–∫–∞ –ø—É—Å—Ç–æ!

